{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { NotFoundError } from 'navi';\nimport { NaviContext } from './NaviContext';\nexport var NotFoundBoundary = function ErrorBoundary(props) {\n  return React.createElement(NaviContext.Consumer, null, function (context) {\n    return React.createElement(InnerNotFoundBoundary, __assign({\n      context: context\n    }, props));\n  });\n};\n\nvar InnerNotFoundBoundary =\n/** @class */\nfunction (_super) {\n  __extends(InnerNotFoundBoundary, _super);\n\n  function InnerNotFoundBoundary(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {};\n    return _this;\n  }\n\n  InnerNotFoundBoundary.getDerivedStateFromProps = function (props, state) {\n    if (state.error && props.context.steadyRoute.url.pathname !== state.errorPathname) {\n      return {\n        error: undefined,\n        errorPathname: undefined,\n        errorInfo: undefined\n      };\n    }\n\n    return null;\n  };\n\n  InnerNotFoundBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n    if (error instanceof NotFoundError) {\n      this.setState({\n        error: error,\n        errorInfo: errorInfo,\n        errorPathname: this.props.context.steadyRoute.url.pathname\n      });\n    } else {\n      throw error;\n    }\n  };\n\n  InnerNotFoundBoundary.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (this.state.error && !prevState.error) {// TODO: scroll to top / render title if necessary\n    }\n  };\n\n  InnerNotFoundBoundary.prototype.render = function () {\n    if (this.state.error) {\n      return this.props.render(this.state.error);\n    }\n\n    return this.props.children;\n  };\n\n  return InnerNotFoundBoundary;\n}(React.Component);","map":{"version":3,"sources":["../../src/NotFoundBoundary.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAS,aAAT,QAA8B,MAA9B;AACA,SAAS,WAAT,QAA4B,eAA5B;AAUA,OAAO,IAAM,gBAAgB,GAAqC,SAAS,aAAT,CAAuB,KAAvB,EAAmD;AACnH,SACE,KAAA,CAAA,aAAA,CAAC,WAAW,CAAC,QAAb,EAAqB,IAArB,EACG,UAAA,OAAA,EAAO;AAAI,WAAA,KAAA,CAAA,aAAA,CAAC,qBAAD,EAAsB,QAAA,CAAA;AAAC,MAAA,OAAO,EAAE;AAAV,KAAA,EAAtB,KAAsB,CAAtB,CAAA;AAAsD,GADpE,CADF;AAKD,CANM;;AAmBP,IAAA,qBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAoC,EAAA,SAAA,CAAA,qBAAA,EAAA,MAAA,CAAA;;AAYlC,WAAA,qBAAA,CAAY,KAAZ,EAAiB;AAAjB,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAEE,IAAA,KAAI,CAAC,KAAL,GAAa,EAAb;;AACD;;AAdM,EAAA,qBAAA,CAAA,wBAAA,GAAP,UAAgC,KAAhC,EAAmE,KAAnE,EAAoG;AAClG,QAAI,KAAK,CAAC,KAAN,IAAe,KAAK,CAAC,OAAN,CAAc,WAAd,CAA2B,GAA3B,CAA+B,QAA/B,KAA4C,KAAK,CAAC,aAArE,EAAoF;AAClF,aAAO;AACL,QAAA,KAAK,EAAE,SADF;AAEL,QAAA,aAAa,EAAE,SAFV;AAGL,QAAA,SAAS,EAAE;AAHN,OAAP;AAKD;;AACD,WAAO,IAAP;AACD,GATM;;AAgBP,EAAA,qBAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UAAkB,KAAlB,EAAyB,SAAzB,EAAkC;AAChC,QAAI,KAAK,YAAY,aAArB,EAAoC;AAClC,WAAK,QAAL,CAAc;AACZ,QAAA,KAAK,EAAA,KADO;AAEZ,QAAA,SAAS,EAAA,SAFG;AAGZ,QAAA,aAAa,EAAE,KAAK,KAAL,CAAW,OAAX,CAAmB,WAAnB,CAAgC,GAAhC,CAAoC;AAHvC,OAAd;AAKD,KAND,MAOK;AACH,YAAM,KAAN;AACD;AACF,GAXD;;AAaA,EAAA,qBAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAmB,SAAnB,EAA0D,SAA1D,EAA+F;AAC7F,QAAI,KAAK,KAAL,CAAW,KAAX,IAAoB,CAAC,SAAS,CAAC,KAAnC,EAA0C,CACxC;AACD;AACF,GAJD;;AAMA,EAAA,qBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,QAAI,KAAK,KAAL,CAAW,KAAf,EAAsB;AACpB,aAAO,KAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,KAAL,CAAW,KAA7B,CAAP;AACD;;AACD,WAAO,KAAK,KAAL,CAAW,QAAlB;AACD,GALD;;AAMF,SAAA,qBAAA;AAAC,CA1CD,CAAoC,KAAK,CAAC,SAA1C,CAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { NotFoundError } from 'navi';\nimport { NaviContext } from './NaviContext';\nexport var NotFoundBoundary = function ErrorBoundary(props) {\n    return (React.createElement(NaviContext.Consumer, null, function (context) { return React.createElement(InnerNotFoundBoundary, __assign({ context: context }, props)); }));\n};\nvar InnerNotFoundBoundary = /** @class */ (function (_super) {\n    __extends(InnerNotFoundBoundary, _super);\n    function InnerNotFoundBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {};\n        return _this;\n    }\n    InnerNotFoundBoundary.getDerivedStateFromProps = function (props, state) {\n        if (state.error && props.context.steadyRoute.url.pathname !== state.errorPathname) {\n            return {\n                error: undefined,\n                errorPathname: undefined,\n                errorInfo: undefined,\n            };\n        }\n        return null;\n    };\n    InnerNotFoundBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        if (error instanceof NotFoundError) {\n            this.setState({\n                error: error,\n                errorInfo: errorInfo,\n                errorPathname: this.props.context.steadyRoute.url.pathname,\n            });\n        }\n        else {\n            throw error;\n        }\n    };\n    InnerNotFoundBoundary.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.state.error && !prevState.error) {\n            // TODO: scroll to top / render title if necessary\n        }\n    };\n    InnerNotFoundBoundary.prototype.render = function () {\n        if (this.state.error) {\n            return this.props.render(this.state.error);\n        }\n        return this.props.children;\n    };\n    return InnerNotFoundBoundary;\n}(React.Component));\n//# sourceMappingURL=NotFoundBoundary.js.map"]},"metadata":{},"sourceType":"module"}