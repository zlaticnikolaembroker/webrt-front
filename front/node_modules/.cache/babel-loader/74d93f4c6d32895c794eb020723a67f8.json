{"ast":null,"code":"var SimpleSubscription =\n/** @class */\nfunction () {\n  function SimpleSubscription(close, observer) {\n    this.close = close;\n    this.observer = observer;\n\n    if (this.observer.start) {\n      this.observer.start(this);\n    }\n  }\n\n  SimpleSubscription.prototype.unsubscribe = function () {\n    if (!this.closed) {\n      this.closed = true;\n      this.close(this.observer);\n      delete this.close;\n      delete this.observer;\n    }\n  };\n\n  return SimpleSubscription;\n}();\n\nexport { SimpleSubscription };\nexport function createOrPassthroughObserver(onNextOrObserver, onError, onComplete) {\n  return typeof onNextOrObserver === 'function' ? {\n    next: onNextOrObserver,\n    error: onError,\n    complete: onComplete\n  } : onNextOrObserver;\n}\nexport function createPromiseFromObservable(observable) {\n  return new Promise(function (resolve, reject) {\n    observable.subscribe({\n      start: function (subscription) {\n        this.subscription = subscription;\n      },\n      next: function (value) {\n        this.value = value;\n      },\n      complete: function () {\n        resolve(this.value);\n        this.subscription.unsubscribe();\n      },\n      error: function (e) {\n        reject(e);\n        this.subscription.unsubscribe();\n      }\n    });\n  });\n}","map":{"version":3,"sources":["../../src/Observable.ts"],"names":[],"mappings":"AA+BA,IAAA,kBAAA;AAAA;AAAA,YAAA;AAMI,WAAA,kBAAA,CAAY,KAAZ,EAAsD,QAAtD,EAA6E;AACzE,SAAK,KAAL,GAAa,KAAb;AACA,SAAK,QAAL,GAAgB,QAAhB;;AACA,QAAI,KAAK,QAAL,CAAc,KAAlB,EAAyB;AACvB,WAAK,QAAL,CAAc,KAAd,CAAoB,IAApB;AACD;AACJ;;AAED,EAAA,kBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;AACI,QAAI,CAAC,KAAK,MAAV,EAAkB;AACd,WAAK,MAAL,GAAc,IAAd;AACA,WAAK,KAAL,CAAW,KAAK,QAAhB;AACA,aAAO,KAAK,KAAZ;AACA,aAAO,KAAK,QAAZ;AACH;AACJ,GAPD;;AAQJ,SAAA,kBAAA;AAAC,CAtBD,EAAA;;;AAwBA,OAAM,SAAU,2BAAV,CACF,gBADE,EAEF,OAFE,EAGF,UAHE,EAGqB;AAEvB,SACI,OAAO,gBAAP,KAA4B,UAA5B,GACM;AACE,IAAA,IAAI,EAAE,gBADR;AAEE,IAAA,KAAK,EAAE,OAFT;AAGE,IAAA,QAAQ,EAAE;AAHZ,GADN,GAMM,gBAPV;AASH;AAED,OAAM,SAAU,2BAAV,CAAyC,UAAzC,EAAkE;AACpE,SAAO,IAAI,OAAJ,CAAe,UAAC,OAAD,EAAU,MAAV,EAAgB;AAClC,IAAA,UAAU,CAAC,SAAX,CAAqB;AACjB,MAAA,KAAK,EAAL,UAAM,YAAN,EAAgC;AAC5B,aAAK,YAAL,GAAoB,YAApB;AACH,OAHgB;AAIjB,MAAA,IAAI,EAAJ,UAAK,KAAL,EAAa;AACT,aAAK,KAAL,GAAa,KAAb;AACH,OANgB;AAOjB,MAAA,QAAQ,EAAA,YAAA;AACJ,QAAA,OAAO,CAAC,KAAK,KAAN,CAAP;AACA,aAAK,YAAL,CAAkB,WAAlB;AACH,OAVgB;AAWjB,MAAA,KAAK,EAAA,UAAC,CAAD,EAAE;AACH,QAAA,MAAM,CAAC,CAAD,CAAN;AACA,aAAK,YAAL,CAAkB,WAAlB;AACH;AAdgB,KAArB;AAgBH,GAjBM,CAAP;AAkBH","sourceRoot":"","sourcesContent":["var SimpleSubscription = /** @class */ (function () {\n    function SimpleSubscription(close, observer) {\n        this.close = close;\n        this.observer = observer;\n        if (this.observer.start) {\n            this.observer.start(this);\n        }\n    }\n    SimpleSubscription.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.closed = true;\n            this.close(this.observer);\n            delete this.close;\n            delete this.observer;\n        }\n    };\n    return SimpleSubscription;\n}());\nexport { SimpleSubscription };\nexport function createOrPassthroughObserver(onNextOrObserver, onError, onComplete) {\n    return (typeof onNextOrObserver === 'function'\n        ? {\n            next: onNextOrObserver,\n            error: onError,\n            complete: onComplete,\n        }\n        : onNextOrObserver);\n}\nexport function createPromiseFromObservable(observable) {\n    return new Promise(function (resolve, reject) {\n        observable.subscribe({\n            start: function (subscription) {\n                this.subscription = subscription;\n            },\n            next: function (value) {\n                this.value = value;\n            },\n            complete: function () {\n                resolve(this.value);\n                this.subscription.unsubscribe();\n            },\n            error: function (e) {\n                reject(e);\n                this.subscription.unsubscribe();\n            }\n        });\n    });\n}\n//# sourceMappingURL=Observable.js.map"]},"metadata":{},"sourceType":"module"}