{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport { createBrowserNavigation } from 'navi';\nimport { NaviProvider } from './NaviProvider';\nimport { View } from './View';\n\nvar Router =\n/** @class */\nfunction (_super) {\n  __extends(Router, _super);\n\n  function Router(props) {\n    var _this = _super.call(this, props) || this;\n\n    if (process.env.NODE_ENV !== 'production' && props.navigation) {\n      if (props.basename) {\n        console.warn(\"Warning: <Router> can't receive both a \\\"basename\\\" and a \\\"navigation\\\" prop. Proceeding by ignoring \\\"basename\\\".\");\n      }\n\n      if (props.routes) {\n        console.warn(\"Warning: <Router> can't receive both a \\\"routes\\\" and a \\\"navigation\\\" prop. Proceeding by ignoring \\\"routes\\\".\");\n      }\n\n      if (props.history) {\n        console.warn(\"Warning: <Router> can't receive both a \\\"history\\\" and a \\\"navigation\\\" prop. Proceeding by ignoring \\\"history\\\".\");\n      }\n    }\n\n    _this.navigation = props.navigation || createBrowserNavigation({\n      basename: props.basename,\n      context: props.context,\n      history: props.history,\n      routes: props.routes\n    });\n    return _this;\n  }\n\n  Router.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        hashScrollBehavior = _a.hashScrollBehavior;\n    return React.createElement(NaviProvider, {\n      navigation: this.navigation,\n      hashScrollBehavior: hashScrollBehavior\n    }, children || React.createElement(View, null));\n  };\n\n  Router.prototype.componentDidMount = function () {\n    if (this.props.navigation && this.props.context) {\n      this.props.navigation.setContext(this.props.context);\n    }\n  };\n\n  Router.prototype.componentDidUpdate = function (prevProps) {\n    if (shallowDiffers(prevProps.context || {}, this.props.context || {})) {\n      this.navigation.setContext(this.props.context || {});\n    }\n  };\n\n  Router.prototype.componentWillUnmount = function () {\n    // Clean up any navigation object that we've created.\n    if (!this.props.navigation) {\n      this.navigation.dispose();\n    }\n\n    delete this.navigation;\n  };\n\n  Router.defaultProps = {\n    fallback: undefined\n  };\n  return Router;\n}(React.Component);\n\nexport { Router }; // Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\n\nfunction shallowDiffers(a, b) {\n  for (var i in a) if (!(i in b)) return true;\n\n  for (var i in b) if (a[i] !== b[i]) return true;\n\n  return false;\n}","map":{"version":3,"sources":["../../src/Router.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAqC,uBAArC,QAAoE,MAApE;AAEA,SAAS,YAAT,QAA6B,gBAA7B;AACA,SAAS,IAAT,QAAqB,QAArB;;AAkBA,IAAA,MAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyD,EAAA,SAAA,CAAA,MAAA,EAAA,MAAA,CAAA;;AASvD,WAAA,MAAA,CAAY,KAAZ,EAAuC;AAAvC,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAGE,QAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,YAAzB,IAAyC,KAAK,CAAC,UAAnD,EAA+D;AAC7D,UAAI,KAAK,CAAC,QAAV,EAAoB;AAClB,QAAA,OAAO,CAAC,IAAR,CACE,qHADF;AAGD;;AACD,UAAI,KAAK,CAAC,MAAV,EAAkB;AAChB,QAAA,OAAO,CAAC,IAAR,CACE,iHADF;AAGD;;AACD,UAAI,KAAK,CAAC,OAAV,EAAmB;AACjB,QAAA,OAAO,CAAC,IAAR,CACE,mHADF;AAGD;AACF;;AAED,IAAA,KAAI,CAAC,UAAL,GACE,KAAK,CAAC,UAAN,IACA,uBAAuB,CAAC;AACtB,MAAA,QAAQ,EAAE,KAAK,CAAC,QADM;AAEtB,MAAA,OAAO,EAAE,KAAK,CAAC,OAFO;AAGtB,MAAA,OAAO,EAAE,KAAK,CAAC,OAHO;AAItB,MAAA,MAAM,EAAE,KAAK,CAAC;AAJQ,KAAD,CAFzB;;AAQD;;AAED,EAAA,MAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACM,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAE,QAAA,GAAA,EAAA,CAAA,QAAF;AAAA,QAAY,kBAAA,GAAA,EAAA,CAAA,kBAAZ;AACJ,WACE,KAAA,CAAA,aAAA,CAAC,YAAD,EAAa;AACX,MAAA,UAAU,EAAE,KAAK,UADN;AAEX,MAAA,kBAAkB,EAAE;AAFT,KAAb,EAGG,QAAQ,IAAI,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK,IAAL,CAHf,CADF;AAOD,GATD;;AAWA,EAAA,MAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,YAAA;AACE,QAAI,KAAK,KAAL,CAAW,UAAX,IAAyB,KAAK,KAAL,CAAW,OAAxC,EAAiD;AAC/C,WAAK,KAAL,CAAW,UAAX,CAAsB,UAAtB,CAAiC,KAAK,KAAL,CAAW,OAA5C;AACD;AACF,GAJD;;AAMA,EAAA,MAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAmB,SAAnB,EAAkD;AAChD,QAAI,cAAc,CAAC,SAAS,CAAC,OAAV,IAAqB,EAAtB,EAA0B,KAAK,KAAL,CAAW,OAAX,IAAsB,EAAhD,CAAlB,EAAuE;AACrE,WAAK,UAAL,CAAgB,UAAhB,CAA2B,KAAK,KAAL,CAAW,OAAX,IAAuB,EAAlD;AACD;AACF,GAJD;;AAMA,EAAA,MAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,YAAA;AACE;AACA,QAAI,CAAC,KAAK,KAAL,CAAW,UAAhB,EAA4B;AAC1B,WAAK,UAAL,CAAgB,OAAhB;AACD;;AACD,WAAO,KAAK,UAAZ;AACD,GAND;;AA5DO,EAAA,MAAA,CAAA,YAAA,GAAe;AACpB,IAAA,QAAQ,EAAE;AADU,GAAf;AAmET,SAAA,MAAA;AAAC,CAtED,CAAyD,KAAK,CAAC,SAA/D,CAAA;;SAAa,M,IAwEb;AACA;;AACA,SAAS,cAAT,CAAwB,CAAxB,EAA2B,CAA3B,EAA4B;AAC1B,OAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,EAAE,CAAC,IAAI,CAAP,CAAJ,EAAe,OAAO,IAAP;;AAChC,OAAK,IAAI,CAAT,IAAc,CAAd,EAAiB,IAAI,CAAC,CAAC,CAAD,CAAD,KAAS,CAAC,CAAC,CAAD,CAAd,EAAmB,OAAO,IAAP;;AACpC,SAAO,KAAP;AACD","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { createBrowserNavigation } from 'navi';\nimport { NaviProvider } from './NaviProvider';\nimport { View } from './View';\nvar Router = /** @class */ (function (_super) {\n    __extends(Router, _super);\n    function Router(props) {\n        var _this = _super.call(this, props) || this;\n        if (process.env.NODE_ENV !== 'production' && props.navigation) {\n            if (props.basename) {\n                console.warn(\"Warning: <Router> can't receive both a \\\"basename\\\" and a \\\"navigation\\\" prop. Proceeding by ignoring \\\"basename\\\".\");\n            }\n            if (props.routes) {\n                console.warn(\"Warning: <Router> can't receive both a \\\"routes\\\" and a \\\"navigation\\\" prop. Proceeding by ignoring \\\"routes\\\".\");\n            }\n            if (props.history) {\n                console.warn(\"Warning: <Router> can't receive both a \\\"history\\\" and a \\\"navigation\\\" prop. Proceeding by ignoring \\\"history\\\".\");\n            }\n        }\n        _this.navigation =\n            props.navigation ||\n                createBrowserNavigation({\n                    basename: props.basename,\n                    context: props.context,\n                    history: props.history,\n                    routes: props.routes,\n                });\n        return _this;\n    }\n    Router.prototype.render = function () {\n        var _a = this.props, children = _a.children, hashScrollBehavior = _a.hashScrollBehavior;\n        return (React.createElement(NaviProvider, { navigation: this.navigation, hashScrollBehavior: hashScrollBehavior }, children || React.createElement(View, null)));\n    };\n    Router.prototype.componentDidMount = function () {\n        if (this.props.navigation && this.props.context) {\n            this.props.navigation.setContext(this.props.context);\n        }\n    };\n    Router.prototype.componentDidUpdate = function (prevProps) {\n        if (shallowDiffers(prevProps.context || {}, this.props.context || {})) {\n            this.navigation.setContext(this.props.context || {});\n        }\n    };\n    Router.prototype.componentWillUnmount = function () {\n        // Clean up any navigation object that we've created.\n        if (!this.props.navigation) {\n            this.navigation.dispose();\n        }\n        delete this.navigation;\n    };\n    Router.defaultProps = {\n        fallback: undefined,\n    };\n    return Router;\n}(React.Component));\nexport { Router };\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(a, b) {\n    for (var i in a)\n        if (!(i in b))\n            return true;\n    for (var i in b)\n        if (a[i] !== b[i])\n            return true;\n    return false;\n}\n//# sourceMappingURL=Router.js.map"]},"metadata":{},"sourceType":"module"}