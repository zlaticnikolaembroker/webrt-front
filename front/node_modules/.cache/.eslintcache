[{"/home/zlatic/Code/webrtc/webrtc/front/src/index.tsx":"1","/home/zlatic/Code/webrtc/webrtc/front/src/reportWebVitals.ts":"2","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Header/Header.tsx":"3","/home/zlatic/Code/webrtc/webrtc/front/src/view/routes/index.tsx":"4","/home/zlatic/Code/webrtc/webrtc/front/src/localstorage/LocalStorage.ts":"5","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/CreateMeeting/CreateMeeting.tsx":"6","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Meeting/Meeting.tsx":"7","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/JoinMeeting/JoinMeeting.tsx":"8","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Login/Login.tsx":"9","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Home/Home.tsx":"10","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/UpdateProfile/UpdateProfile.tsx":"11","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Register/Register.tsx":"12","/home/zlatic/Code/webrtc/webrtc/front/src/http/Http.ts":"13","/home/zlatic/Code/webrtc/webrtc/front/src/webrtc/WebRTC.ts":"14","/home/zlatic/Code/webrtc/webrtc/front/src/http/index.ts":"15","/home/zlatic/Code/webrtc/webrtc/front/src/http/Socket.ts":"16"},{"size":694,"mtime":1626525793353,"results":"17","hashOfConfig":"18"},{"size":425,"mtime":1626292910249,"results":"19","hashOfConfig":"18"},{"size":1598,"mtime":1629907012712,"results":"20","hashOfConfig":"18"},{"size":989,"mtime":1629908205881,"results":"21","hashOfConfig":"18"},{"size":482,"mtime":1629829348076,"results":"22","hashOfConfig":"18"},{"size":3642,"mtime":1629917181851,"results":"23","hashOfConfig":"18"},{"size":1055,"mtime":1629829319554,"results":"24","hashOfConfig":"18"},{"size":5615,"mtime":1629917733632,"results":"25","hashOfConfig":"18"},{"size":5459,"mtime":1629838540103,"results":"26","hashOfConfig":"18"},{"size":1357,"mtime":1629838285162,"results":"27","hashOfConfig":"18"},{"size":6385,"mtime":1629910554889,"results":"28","hashOfConfig":"18"},{"size":9899,"mtime":1630613216939,"results":"29","hashOfConfig":"18"},{"size":473,"mtime":1629835362574,"results":"30","hashOfConfig":"18"},{"size":335,"mtime":1629829341288,"results":"31","hashOfConfig":"18"},{"size":779,"mtime":1629917164488,"results":"32","hashOfConfig":"18"},{"size":2008,"mtime":1630612315028,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1ucnk4w",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/zlatic/Code/webrtc/webrtc/front/src/index.tsx",[],["68","69"],"/home/zlatic/Code/webrtc/webrtc/front/src/reportWebVitals.ts",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Header/Header.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/routes/index.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/localstorage/LocalStorage.ts",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/components/CreateMeeting/CreateMeeting.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Meeting/Meeting.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/components/JoinMeeting/JoinMeeting.tsx",["70"],"import React, { useCallback, useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useNavigation } from \"react-navi\";\nimport {\n  Endpoint,\n  CreateMeetingInput,\n  GetMeetingByNumberInput,\n} from \"../../../http\";\nimport post, { PostResponse } from \"../../../http/Http\";\nimport {\n  LocalStorage,\n  USERNAME_FIELD_NAME,\n} from \"../../../localstorage/LocalStorage\";\n\ninterface FormData {\n  meetingID?: string;\n  username?: string;\n}\n\ninterface FormErrors {\n  meetingID: boolean;\n  username: boolean;\n  requestFailed: boolean;\n}\n\nconst JoinMeeting = () => {\n  const username = localStorage.getItem(USERNAME_FIELD_NAME);\n\n  const [formData, setFormData] = useState<FormData>({\n    username: username ?? undefined,\n  });\n  const [formErrors, setFormErrors] = useState<FormErrors>({\n    meetingID: true,\n    username: username && username.length > 0 ? false : true,\n    requestFailed: false,\n  });\n\n  const validateFormData = useCallback((dataToValidate: FormData) => {\n    let newFormErrorValue: FormErrors = {\n      meetingID: false,\n      username: false,\n      requestFailed: false,\n    };\n    if (\n      dataToValidate.meetingID === undefined ||\n      dataToValidate.meetingID.replaceAll(\" \", \"\").length !== 9 ||\n      !dataToValidate.meetingID.replaceAll(\" \", \"\").match(/^[0-9]+$/) //has only digits from 0 to 9\n    ) {\n      newFormErrorValue.meetingID = true;\n    }\n\n    if (\n      dataToValidate.username === undefined ||\n      dataToValidate.username.length === 0\n    ) {\n      newFormErrorValue.username = true;\n    }\n    setFormErrors(newFormErrorValue);\n  }, []);\n\n  const navigation = useNavigation();\n\n  const handleJoinMeetingClicked = useCallback(async () => {\n    if (!formErrors.username && !formErrors.meetingID && formData.username) {\n      const response = await post(\n        Endpoint.GetMeetingByNumberEndpoint,\n        JSON.stringify({\n          meetingNumber: Number(formData.meetingID),\n        } as GetMeetingByNumberInput)\n      );\n\n      if ((response as unknown as PostResponse).error) {\n        setFormErrors({\n          ...formErrors,\n          requestFailed: true,\n        });\n        return;\n      }\n      try {\n        const result = JSON.parse(response.data);\n\n        if (result.id) {\n          LocalStorage.setToLocalStorage(\n            USERNAME_FIELD_NAME,\n            formData.username\n          );\n          navigation.navigate(\n            `/meeting/${formData.meetingID?.replaceAll(\" \", \"\")}`\n          );\n        } else {\n          setFormErrors({\n            ...formErrors,\n            requestFailed: true,\n          });\n        }\n\n        LocalStorage.setToLocalStorage(USERNAME_FIELD_NAME, formData.username);\n        navigation.navigate(\n          `/meeting/${formData.meetingID?.replaceAll(\" \", \"\")}`\n        );\n      } catch (err) {\n        setFormErrors({\n          ...formErrors,\n          requestFailed: true,\n        });\n        return;\n      }\n    }\n  }, [navigation, formData, formErrors]);\n\n  const handleMeetingIDChanged = useCallback(\n    (newMeetingId: string) => {\n      setFormData({\n        meetingID: newMeetingId,\n        username: formData.username,\n      });\n      validateFormData({\n        meetingID: newMeetingId,\n        username: formData.username,\n      });\n    },\n    [formData, validateFormData]\n  );\n\n  const handleUsernameChanged = useCallback(\n    (newUsername: string) => {\n      setFormData({\n        meetingID: formData.meetingID,\n        username: newUsername,\n      });\n      validateFormData({\n        meetingID: formData.meetingID,\n        username: newUsername,\n      });\n    },\n    [formData, validateFormData]\n  );\n\n  return (\n    <div\n      style={{\n        alignContent: \"center\",\n        margin: \"auto\",\n        marginTop: \"50px\",\n        height: \"50%\",\n        width: \"40%\",\n        backgroundColor: \"burlywood\",\n        paddingTop: \"100px\",\n        paddingBottom: \"100px\",\n        paddingLeft: \"50px\",\n        paddingRight: \"50px\",\n      }}\n    >\n      <Form className=\"text-center\">\n        <Form.Group className=\"mb-3\" controlId=\"meetingId\">\n          <Form.Label>Meeting Id</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter meeting Id\"\n            onChange={(event) => {\n              handleMeetingIDChanged(event.target.value);\n            }}\n            isInvalid={formErrors.meetingID}\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Please enter valid meeting id.\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"username\">\n          <Form.Label>Username</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter username\"\n            onChange={(event) => {\n              handleUsernameChanged(event.target.value);\n            }}\n            isInvalid={formErrors.username}\n            defaultValue={username ?? undefined}\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Please enter username.\n          </Form.Control.Feedback>\n        </Form.Group>\n\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          onClick={(event) => {\n            event.preventDefault();\n            handleJoinMeetingClicked();\n          }}\n        >\n          Join meeting\n        </Button>\n\n        <Form.Group className=\"mb-3\">\n          {formErrors.requestFailed ? (\n            <Form.Label color={\"red\"}>\n              Something went wrong, probably meeting doesn't exist.\n            </Form.Label>\n          ) : null}\n        </Form.Group>\n      </Form>\n    </div>\n  );\n};\n\nexport default JoinMeeting;\n","/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Login/Login.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Home/Home.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/components/UpdateProfile/UpdateProfile.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/view/components/Register/Register.tsx",[],"/home/zlatic/Code/webrtc/webrtc/front/src/http/Http.ts",[],"/home/zlatic/Code/webrtc/webrtc/front/src/webrtc/WebRTC.ts",[],"/home/zlatic/Code/webrtc/webrtc/front/src/http/index.ts",[],"/home/zlatic/Code/webrtc/webrtc/front/src/http/Socket.ts",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":6,"column":3,"nodeType":"77","messageId":"78","endLine":6,"endColumn":21},"no-native-reassign",["79"],"no-negated-in-lhs",["80"],"@typescript-eslint/no-unused-vars","'CreateMeetingInput' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]